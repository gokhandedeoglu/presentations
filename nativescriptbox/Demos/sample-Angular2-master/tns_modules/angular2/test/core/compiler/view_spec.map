{"version":3,"sources":["view_spec.js"],"names":[],"mappings":"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","file":"/home/korchev/github/angular/modules/angular2/test/core/compiler/view_spec.js","sourcesContent":["import {describe, xit, it, expect, beforeEach, ddescribe, iit, el, proxy} from 'angular2/test_lib';\nimport {ProtoView, ElementPropertyMemento, DirectivePropertyMemento} from 'angular2/src/core/compiler/view';\nimport {ProtoElementInjector, ElementInjector, DirectiveBinding} from 'angular2/src/core/compiler/element_injector';\nimport {EmulatedScopedShadowDomStrategy, NativeShadowDomStrategy} from 'angular2/src/core/compiler/shadow_dom_strategy';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {Component, Decorator, Viewport, Directive, onChange, onAllChangesDone} from 'angular2/src/core/annotations/annotations';\nimport {Lexer, Parser, DynamicProtoChangeDetector,\n  ChangeDetector} from 'angular2/change_detection';\nimport {EventEmitter} from 'angular2/src/core/annotations/di';\nimport {List, MapWrapper, StringMapWrapper} from 'angular2/src/facade/collection';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {int, IMPLEMENTS} from 'angular2/src/facade/lang';\nimport {Injector} from 'angular2/di';\nimport {View} from 'angular2/src/core/compiler/view';\nimport {ViewContainer} from 'angular2/src/core/compiler/view_container';\nimport {VmTurnZone} from 'angular2/src/core/zone/vm_turn_zone';\nimport {EventManager, DomEventsPlugin} from 'angular2/src/render/dom/events/event_manager';\nimport {reflector} from 'angular2/src/reflection/reflection';\n\nclass DummyDirective extends Directive {\n  constructor({lifecycle} = {}) { super({lifecycle: lifecycle}); }\n}\n\n@proxy\n@IMPLEMENTS(ViewContainer)\nclass FakeViewContainer {\n  templateElement;\n\n  constructor(templateElement) {\n    this.templateElement = templateElement;\n  }\n\n  noSuchMethod(i) {\n    super.noSuchMethod(i);\n  }\n}\n\n@proxy\n@IMPLEMENTS(View)\nclass FakeView {\n  noSuchMethod(i) {\n    super.noSuchMethod(i);\n  }\n}\n\nexport function main() {\n  describe('view', function() {\n    var parser, someComponentDirective, someViewportDirective;\n\n    function createView(protoView, eventManager: EventManager = null) {\n      var ctx = new MyEvaluationContext();\n      var view = protoView.instantiate(null, eventManager);\n      view.hydrate(null, null, null, ctx, null);\n      return view;\n    }\n\n    beforeEach(() => {\n      parser = new Parser(new Lexer());\n      someComponentDirective = readDirectiveBinding(SomeComponent);\n      someViewportDirective = readDirectiveBinding(SomeViewport);\n    });\n\n    describe('instantiated from protoView', () => {\n      var view;\n      beforeEach(() => {\n        var pv = new ProtoView(el('<div id=\"1\"></div>'), new DynamicProtoChangeDetector(null, null), null);\n        view = pv.instantiate(null, null);\n      });\n\n      it('should be dehydrated by default', () => {\n        expect(view.hydrated()).toBe(false);\n      });\n\n      it('should be able to be hydrated and dehydrated', () => {\n        var ctx = new Object();\n        view.hydrate(null, null, null, ctx, null);\n        expect(view.hydrated()).toBe(true);\n\n        view.dehydrate();\n        expect(view.hydrated()).toBe(false);\n      });\n\n      it('should hydrate and dehydrate the change detector', () => {\n        var ctx = new Object();\n        view.hydrate(null, null, null, ctx, null);\n        expect(view.changeDetector.hydrated()).toBe(true);\n\n        view.dehydrate();\n        expect(view.changeDetector.hydrated()).toBe(false);\n      });\n\n      it('should use the view pool to reuse views', () => {\n        var pv = new ProtoView(el('<div id=\"1\"></div>'), new DynamicProtoChangeDetector(null, null), null);\n        var fakeView = new FakeView();\n        pv.returnToPool(fakeView);\n\n        expect(pv.instantiate(null, null)).toBe(fakeView);\n      });\n    });\n\n    describe('with locals', function() {\n      var view;\n      beforeEach(() => {\n        var pv = new ProtoView(el('<div id=\"1\"></div>'), new DynamicProtoChangeDetector(null, null), null);\n        pv.bindVariable('context-foo', 'template-foo');\n        view = createView(pv);\n      });\n\n      it('should support setting of declared locals', () => {\n        view.setLocal('context-foo', 'bar');\n        expect(view.locals.get('template-foo')).toBe('bar');\n      });\n\n      it('should not throw on undeclared locals', () => {\n        expect(() => view.setLocal('setMePlease', 'bar')).not.toThrow();\n      });\n\n      it('when dehydrated should set locals to null', () => {\n        view.setLocal('context-foo', 'bar');\n        view.dehydrate();\n        view.hydrate(null, null, null, new Object(), null);\n        expect(view.locals.get('template-foo')).toBe(null);\n      });\n\n      it('should throw when trying to set on dehydrated view', () => {\n        view.dehydrate();\n        expect(() => view.setLocal('context-foo', 'bar')).toThrowError();\n      });\n    });\n\n    describe('instantiated and hydrated', function() {\n\n      function createCollectDomNodesTestCases(useTemplateElement:boolean) {\n\n        function templateAwareCreateElement(html) {\n          return el(useTemplateElement ? `<template>${html}</template>` : html);\n        }\n\n        it('should collect the root node in the ProtoView element', () => {\n          var pv = new ProtoView(templateAwareCreateElement('<div id=\"1\"></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          var view = pv.instantiate(null, null);\n          view.hydrate(null, null, null, null, null);\n          expect(view.nodes.length).toBe(1);\n          expect(DOM.getAttribute(view.nodes[0], 'id')).toEqual('1');\n        });\n\n        describe('collect elements with property bindings', () => {\n\n          it('should collect property bindings on the root element if it has the ng-binding class', () => {\n            var pv = new ProtoView(templateAwareCreateElement('<div [prop]=\"a\" class=\"ng-binding\"></div>'),\n              new DynamicProtoChangeDetector(null, null), null);\n            pv.bindElement(null, 0, null);\n            pv.bindElementProperty(parser.parseBinding('a', null), 'prop', reflector.setter('prop'));\n\n            var view = pv.instantiate(null, null);\n            view.hydrate(null, null, null, null, null);\n            expect(view.bindElements.length).toEqual(1);\n            expect(view.bindElements[0]).toBe(view.nodes[0]);\n          });\n\n          it('should collect property bindings on child elements with ng-binding class', () => {\n            var pv = new ProtoView(templateAwareCreateElement('<div><span></span><span class=\"ng-binding\"></span></div>'),\n              new DynamicProtoChangeDetector(null, null), null);\n            pv.bindElement(null, 0, null);\n            pv.bindElementProperty(parser.parseBinding('b', null), 'a', reflector.setter('a'));\n\n            var view = pv.instantiate(null, null);\n            view.hydrate(null, null, null, null, null);\n            expect(view.bindElements.length).toEqual(1);\n            expect(view.bindElements[0]).toBe(view.nodes[0].childNodes[1]);\n          });\n\n        });\n\n        describe('collect text nodes with bindings', () => {\n\n          it('should collect text nodes under the root element', () => {\n            var pv = new ProtoView(templateAwareCreateElement('<div class=\"ng-binding\">{{}}<span></span>{{}}</div>'),\n              new DynamicProtoChangeDetector(null, null), null);\n            pv.bindElement(null, 0, null);\n            pv.bindTextNode(0, parser.parseBinding('a', null));\n            pv.bindTextNode(2, parser.parseBinding('b', null));\n\n            var view = pv.instantiate(null, null);\n            view.hydrate(null, null, null, null, null);\n            expect(view.textNodes.length).toEqual(2);\n            expect(view.textNodes[0]).toBe(view.nodes[0].childNodes[0]);\n            expect(view.textNodes[1]).toBe(view.nodes[0].childNodes[2]);\n          });\n\n          it('should collect text nodes with bindings on child elements with ng-binding class', () => {\n            var pv = new ProtoView(templateAwareCreateElement('<div><span> </span><span class=\"ng-binding\">{{}}</span></div>'),\n              new DynamicProtoChangeDetector(null, null), null);\n            pv.bindElement(null, 0, null);\n            pv.bindTextNode(0, parser.parseBinding('b', null));\n\n            var view = pv.instantiate(null, null);\n            view.hydrate(null, null, null, null, null);\n            expect(view.textNodes.length).toEqual(1);\n            expect(view.textNodes[0]).toBe(view.nodes[0].childNodes[1].childNodes[0]);\n          });\n\n        });\n      }\n\n      describe('inplace instantiation', () => {\n        it('should be supported.', () => {\n          var template = el('<div></div>');\n          var pv = new ProtoView(template, new DynamicProtoChangeDetector(null, null),\n            new NativeShadowDomStrategy(null));\n          pv.instantiateInPlace = true;\n          var view = pv.instantiate(null, null);\n          view.hydrate(null, null, null, null, null);\n          expect(view.nodes[0]).toBe(template);\n        });\n\n        it('should be off by default.', () => {\n          var template = el('<div></div>')\n          var pv = new ProtoView(template, new DynamicProtoChangeDetector(null, null),\n            new NativeShadowDomStrategy(null))\n          var view = pv.instantiate(null, null);\n          view.hydrate(null, null, null, null, null);\n          expect(view.nodes[0]).not.toBe(template);\n        });\n      });\n\n      describe('collect dom nodes with a regular element as root', () => {\n        createCollectDomNodesTestCases(false);\n      });\n\n      describe('collect dom nodes with a template element as root', () => {\n        createCollectDomNodesTestCases(true);\n      });\n\n      describe('create ElementInjectors', () => {\n        it('should use the directives of the ProtoElementInjector', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          pv.bindElement(null, 0, new ProtoElementInjector(null, 1, [SomeDirective]));\n\n          var view = pv.instantiate(null, null);\n          view.hydrate(null, null, null, null, null);\n          expect(view.elementInjectors.length).toBe(1);\n          expect(view.elementInjectors[0].get(SomeDirective) instanceof SomeDirective).toBe(true);\n        });\n\n        it('should use the correct parent', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"><span class=\"ng-binding\"></span></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          var protoParent = new ProtoElementInjector(null, 0, [SomeDirective]);\n          pv.bindElement(null, 0, protoParent);\n          pv.bindElement(null, 0, new ProtoElementInjector(protoParent, 1, [AnotherDirective]));\n\n          var view = pv.instantiate(null, null);\n          view.hydrate(null, null, null, null, null);\n          expect(view.elementInjectors.length).toBe(2);\n          expect(view.elementInjectors[0].get(SomeDirective) instanceof SomeDirective).toBe(true);\n          expect(view.elementInjectors[1].parent).toBe(view.elementInjectors[0]);\n        });\n\n        it('should not pass the host injector when a parent injector exists', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"><span class=\"ng-binding\"></span></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          var protoParent = new ProtoElementInjector(null, 0, [SomeDirective]);\n          pv.bindElement(null, 0, protoParent);\n          var testProtoElementInjector = new TestProtoElementInjector(protoParent, 1, [AnotherDirective]);\n          pv.bindElement(null, 0, testProtoElementInjector);\n\n          var hostProtoInjector = new ProtoElementInjector(null, 0, []);\n          var hostInjector = hostProtoInjector.instantiate(null, null);\n          var view;\n          expect(() => view = pv.instantiate(hostInjector, null)).not.toThrow();\n          expect(testProtoElementInjector.parentElementInjector).toBe(view.elementInjectors[0]);\n          expect(testProtoElementInjector.hostElementInjector).toBeNull();\n        });\n\n        it('should pass the host injector when there is no parent injector', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"><span class=\"ng-binding\"></span></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [SomeDirective]));\n          var testProtoElementInjector = new TestProtoElementInjector(null, 1, [AnotherDirective]);\n          pv.bindElement(null, 0, testProtoElementInjector);\n\n          var hostProtoInjector = new ProtoElementInjector(null, 0, []);\n          var hostInjector = hostProtoInjector.instantiate(null, null);\n          expect(() => pv.instantiate(hostInjector, null)).not.toThrow();\n          expect(testProtoElementInjector.parentElementInjector).toBeNull();\n          expect(testProtoElementInjector.hostElementInjector).toBe(hostInjector);\n        });\n      });\n\n      describe('collect root element injectors', () => {\n\n        it('should collect a single root element injector', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"><span class=\"ng-binding\"></span></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          var protoParent = new ProtoElementInjector(null, 0, [SomeDirective]);\n          pv.bindElement(null, 0, protoParent);\n          pv.bindElement(null, 0, new ProtoElementInjector(protoParent, 1, [AnotherDirective]));\n\n          var view = pv.instantiate(null, null);\n          view.hydrate(null, null, null, null, null);\n          expect(view.rootElementInjectors.length).toBe(1);\n          expect(view.rootElementInjectors[0].get(SomeDirective) instanceof SomeDirective).toBe(true);\n        });\n\n        it('should collect multiple root element injectors', () => {\n          var pv = new ProtoView(el('<div><span class=\"ng-binding\"></span><span class=\"ng-binding\"></span></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          pv.bindElement(null, 0, new ProtoElementInjector(null, 1, [SomeDirective]));\n          pv.bindElement(null, 0, new ProtoElementInjector(null, 2, [AnotherDirective]));\n\n          var view = pv.instantiate(null, null);\n          view.hydrate(null, null, null, null, null);\n          expect(view.rootElementInjectors.length).toBe(2)\n          expect(view.rootElementInjectors[0].get(SomeDirective) instanceof SomeDirective).toBe(true);\n          expect(view.rootElementInjectors[1].get(AnotherDirective) instanceof AnotherDirective).toBe(true);\n        });\n\n      });\n\n      describe('with component views', () => {\n        var ctx;\n\n        function createComponentWithSubPV(subProtoView) {\n          var pv = new ProtoView(el('<cmp class=\"ng-binding\"></cmp>'),\n            new DynamicProtoChangeDetector(null, null), new NativeShadowDomStrategy(null));\n          var binder = pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [SomeComponent], true));\n          binder.componentDirective = someComponentDirective;\n          binder.nestedProtoView = subProtoView;\n          return pv;\n        }\n\n        function createNestedView(protoView) {\n          ctx = new MyEvaluationContext();\n          var view = protoView.instantiate(null, null);\n          view.hydrate(new Injector([]), null, null, ctx, null);\n          return view;\n        }\n\n        it('should expose component services to the component', () => {\n          var subpv = new ProtoView(el('<span></span>'), new DynamicProtoChangeDetector(null, null), null);\n          var pv = createComponentWithSubPV(subpv);\n\n          var view = createNestedView(pv);\n\n          var comp = view.rootElementInjectors[0].get(SomeComponent);\n          expect(comp.service).toBeAnInstanceOf(SomeService);\n        });\n\n        it('should expose component services and component instance to directives in the shadow Dom',\n          () => {\n            var subpv = new ProtoView(\n              el('<div dec class=\"ng-binding\">hello shadow dom</div>'),\n              new DynamicProtoChangeDetector(null, null),\n              null);\n            subpv.bindElement(null, 0,\n              new ProtoElementInjector(null, 0, [ServiceDependentDecorator]));\n            var pv = createComponentWithSubPV(subpv);\n\n            var view = createNestedView(pv);\n\n            var subView = view.componentChildViews[0];\n            var subInj = subView.rootElementInjectors[0];\n            var subDecorator = subInj.get(ServiceDependentDecorator);\n            var comp = view.rootElementInjectors[0].get(SomeComponent);\n\n            expect(subDecorator).toBeAnInstanceOf(ServiceDependentDecorator);\n            expect(subDecorator.service).toBe(comp.service);\n            expect(subDecorator.component).toBe(comp);\n          });\n\n        function expectViewHasNoDirectiveInstances(view) {\n          view.elementInjectors.forEach((inj) => expect(inj.hasInstances()).toBe(false));\n        }\n\n        it('dehydration should dehydrate child component views too', () => {\n          var subpv = new ProtoView(\n            el('<div dec class=\"ng-binding\">hello shadow dom</div>'),\n            new DynamicProtoChangeDetector(null, null),\n            null);\n          subpv.bindElement(null, 0,\n            new ProtoElementInjector(null, 0, [ServiceDependentDecorator]));\n          var pv = createComponentWithSubPV(subpv);\n\n          var view = createNestedView(pv);\n          view.dehydrate();\n\n          expect(view.hydrated()).toBe(false);\n          expectViewHasNoDirectiveInstances(view);\n          view.componentChildViews.forEach(\n            (view) => expectViewHasNoDirectiveInstances(view));\n        });\n\n        it('should create shadow dom (Native Strategy)', () => {\n          var subpv = new ProtoView(el('<span>hello shadow dom</span>'),\n            new DynamicProtoChangeDetector(null, null),\n            null);\n          var pv = createComponentWithSubPV(subpv);\n\n          var view = createNestedView(pv);\n\n          expect(view.nodes[0].shadowRoot.childNodes[0].childNodes[0].nodeValue).toEqual('hello shadow dom');\n        });\n\n        it('should emulate shadow dom (Emulated Strategy)', () => {\n          var subpv = new ProtoView(el('<span>hello shadow dom</span>'),\n            new DynamicProtoChangeDetector(null, null), null);\n\n          var pv = new ProtoView(el('<cmp class=\"ng-binding\"></cmp>'),\n            new DynamicProtoChangeDetector(null, null), new EmulatedScopedShadowDomStrategy(null, null, null));\n          var binder = pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [SomeComponent], true));\n          binder.componentDirective = readDirectiveBinding(SomeComponent);\n          binder.nestedProtoView = subpv;\n\n          var view = createNestedView(pv);\n          expect(view.nodes[0].childNodes[0].childNodes[0].nodeValue).toEqual('hello shadow dom');\n        });\n\n      });\n\n      describe('with template views', () => {\n        function createViewWithViewport() {\n          var templateProtoView = new ProtoView(\n            el('<div id=\"1\"></div>'), new DynamicProtoChangeDetector(null, null), null);\n          var pv = new ProtoView(el('<someTmpl class=\"ng-binding\"></someTmpl>'),\n            new DynamicProtoChangeDetector(null, null), new NativeShadowDomStrategy(null));\n          var binder = pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [SomeViewport]));\n          binder.viewportDirective = someViewportDirective;\n          binder.nestedProtoView = templateProtoView;\n\n          return createView(pv);\n        }\n\n        it('should create a ViewContainer for the Viewport directive', () => {\n          var view = createViewWithViewport();\n\n          var tmplComp = view.rootElementInjectors[0].get(SomeViewport);\n          expect(tmplComp.viewContainer).not.toBe(null);\n        });\n\n        it('dehydration should dehydrate viewcontainers', () => {\n          var view = createViewWithViewport();\n\n          var tmplComp = view.rootElementInjectors[0].get(SomeViewport);\n          expect(tmplComp.viewContainer.hydrated()).toBe(false);\n        });\n      });\n\n      if (DOM.supportsDOMEvents()) {\n        describe('event handlers', () => {\n          var view, ctx, called, receivedEvent, dispatchedEvent;\n\n          function createViewAndContext(protoView) {\n            view = createView(protoView,\n                new EventManager([new DomEventsPlugin()], new FakeVmTurnZone()));\n            ctx = view.context;\n            called = 0;\n            receivedEvent = null;\n            ctx.callMe = (event) => {\n              called += 1;\n              receivedEvent = event;\n            }\n          }\n\n          function dispatchClick(el) {\n            dispatchedEvent = DOM.createMouseEvent('click');\n            DOM.dispatchEvent(el, dispatchedEvent);\n          }\n\n          function createProtoView() {\n            var pv = new ProtoView(el('<div class=\"ng-binding\"><div></div></div>'),\n              new DynamicProtoChangeDetector(null, null), null);\n            pv.bindElement(null, 0, new TestProtoElementInjector(null, 0, []));\n            pv.bindEvent('click', parser.parseBinding('callMe($event)', null));\n            return pv;\n          }\n\n          it('should fire on non-bubbling native events', () => {\n            createViewAndContext(createProtoView());\n\n            dispatchClick(view.nodes[0]);\n\n            expect(called).toEqual(1);\n            expect(receivedEvent).toBe(dispatchedEvent);\n          });\n\n          it('should not fire on a bubbled native events', () => {\n            createViewAndContext(createProtoView());\n\n            dispatchClick(view.nodes[0].firstChild);\n\n            // This test passes trivially on webkit browsers due to\n            // https://bugs.webkit.org/show_bug.cgi?id=122755\n            expect(called).toEqual(0);\n          });\n\n          it('should not throw if the view is dehydrated', () => {\n            createViewAndContext(createProtoView());\n\n            view.dehydrate();\n            expect(() => dispatchClick(view.nodes[0])).not.toThrow();\n            expect(called).toEqual(0);\n          });\n\n          it('should support custom event emitters', () => {\n            var pv = new ProtoView(el('<div class=\"ng-binding\"><div></div></div>'),\n              new DynamicProtoChangeDetector(null, null), null);\n            pv.bindElement(null, 0, new TestProtoElementInjector(null, 0, [EventEmitterDirective]));\n            pv.bindEvent('click', parser.parseBinding('callMe($event)', null));\n\n            createViewAndContext(pv);\n            var dir = view.elementInjectors[0].get(EventEmitterDirective);\n\n            var dispatchedEvent = new Object();\n\n            dir.click(dispatchedEvent);\n            expect(receivedEvent).toBe(dispatchedEvent);\n            expect(called).toEqual(1);\n\n            // Should not eval the binding, because custom emitter takes over.\n            dispatchClick(view.nodes[0]);\n\n            expect(called).toEqual(1);\n          });\n\n          it('should bind to directive events', () => {\n            var pv = new ProtoView(el('<div class=\"ng-binding\"></div>'),\n              new DynamicProtoChangeDetector(null, null), null);\n            pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [SomeDirectiveWithEventHandler]));\n            pv.bindEvent('click', parser.parseAction('onEvent($event)', null), 0);\n            view = createView(pv, new EventManager([new DomEventsPlugin()], new FakeVmTurnZone()));\n\n            var directive = view.elementInjectors[0].get(SomeDirectiveWithEventHandler);\n            expect(directive.event).toEqual(null);\n\n            dispatchClick(view.nodes[0]);\n            expect(directive.event).toBe(dispatchedEvent);\n          });\n        });\n      }\n\n      describe('react to record changes', () => {\n        var view, cd, ctx;\n\n        function createViewAndChangeDetector(protoView) {\n          view = createView(protoView);\n          ctx = view.context;\n          cd = view.changeDetector;\n        }\n\n        it('should consume text node changes', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\">{{}}</div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          pv.bindElement(null, 0, null);\n          pv.bindTextNode(0, parser.parseBinding('foo', null));\n          createViewAndChangeDetector(pv);\n\n          ctx.foo = 'buz';\n          cd.detectChanges();\n          expect(view.textNodes[0].nodeValue).toEqual('buz');\n        });\n\n        it('should consume element binding changes', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          pv.bindElement(null, 0, null);\n          pv.bindElementProperty(parser.parseBinding('foo', null), 'id', reflector.setter('id'));\n          createViewAndChangeDetector(pv);\n\n          ctx.foo = 'buz';\n          cd.detectChanges();\n          expect(view.bindElements[0].id).toEqual('buz');\n        });\n\n        it('should consume directive watch expression change', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n          pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [SomeDirective]));\n          pv.bindDirectiveProperty(0, parser.parseBinding('foo', null), 'prop', reflector.setter('prop'));\n          createViewAndChangeDetector(pv);\n\n          ctx.foo = 'buz';\n          cd.detectChanges();\n          expect(view.elementInjectors[0].get(SomeDirective).prop).toEqual('buz');\n        });\n\n        it('should notify a directive about changes after all its properties have been set', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n\n          pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [\n            DirectiveBinding.createFromType(DirectiveImplementingOnChange,\n                new DummyDirective({lifecycle: [onChange]}))\n          ]));\n          pv.bindDirectiveProperty( 0, parser.parseBinding('a', null), 'a', reflector.setter('a'));\n          pv.bindDirectiveProperty( 0, parser.parseBinding('b', null), 'b', reflector.setter('b'));\n          createViewAndChangeDetector(pv);\n\n          ctx.a = 100;\n          ctx.b = 200;\n          cd.detectChanges();\n\n          var directive = view.elementInjectors[0].get(DirectiveImplementingOnChange);\n          expect(directive.c).toEqual(300);\n        });\n\n        it('should provide a map of updated properties using onChange callback', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n\n          pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [\n            DirectiveBinding.createFromType(DirectiveImplementingOnChange,\n                new DummyDirective({lifecycle: [onChange]}))\n          ]));\n          pv.bindDirectiveProperty( 0, parser.parseBinding('a', null), 'a', reflector.setter('a'));\n          pv.bindDirectiveProperty( 0, parser.parseBinding('b', null), 'b', reflector.setter('b'));\n          createViewAndChangeDetector(pv);\n\n          var directive = view.elementInjectors[0].get(DirectiveImplementingOnChange);\n\n          ctx.a = 0;\n          ctx.b = 0;\n          cd.detectChanges();\n\n          expect(directive.changes[\"a\"].currentValue).toEqual(0);\n          expect(directive.changes[\"b\"].currentValue).toEqual(0);\n\n          ctx.a = 100;\n          cd.detectChanges();\n          expect(directive.changes[\"a\"].currentValue).toEqual(100);\n          expect(StringMapWrapper.contains(directive.changes, \"b\")).toBe(false);\n        });\n\n        it('should invoke the onAllChangesDone callback', () => {\n          var pv = new ProtoView(el('<div class=\"ng-binding\"></div>'),\n            new DynamicProtoChangeDetector(null, null), null);\n\n          pv.bindElement(null, 0, new ProtoElementInjector(null, 0, [\n            DirectiveBinding.createFromType(DirectiveImplementingOnAllChangesDone,\n                new DummyDirective({lifecycle: [onAllChangesDone]}))\n          ]));\n\n          createViewAndChangeDetector(pv);\n          cd.detectChanges();\n\n          var directive = view.elementInjectors[0].get(DirectiveImplementingOnAllChangesDone);\n          expect(directive.onAllChangesDoneCalled).toBe(true);\n        });\n      });\n    });\n\n    describe('protoView createRootProtoView', () => {\n      var element, pv;\n      beforeEach(() => {\n        element = DOM.createElement('div');\n        pv = new ProtoView(el('<div>hi</div>'), new DynamicProtoChangeDetector(null, null),\n          new NativeShadowDomStrategy(null));\n      });\n\n      it('should create the root component when instantiated', () => {\n        var rootProtoView = ProtoView.createRootProtoView(pv, element,\n          someComponentDirective, new DynamicProtoChangeDetector(null, null),\n          new NativeShadowDomStrategy(null));\n        var view = rootProtoView.instantiate(null, null);\n        view.hydrate(new Injector([]), null, null, null, null);\n        expect(view.rootElementInjectors[0].get(SomeComponent)).not.toBe(null);\n      });\n\n      it('should inject the protoView into the shadowDom', () => {\n        var rootProtoView = ProtoView.createRootProtoView(pv, element,\n          someComponentDirective, new DynamicProtoChangeDetector(null, null),\n          new NativeShadowDomStrategy(null));\n        var view = rootProtoView.instantiate(null, null);\n        view.hydrate(new Injector([]), null, null, null, null);\n        expect(element.shadowRoot.childNodes[0].childNodes[0].nodeValue).toEqual('hi');\n      });\n    });\n  });\n}\n\nfunction readDirectiveBinding(type) {\n  var meta = new DirectiveMetadataReader().read(type);\n  return DirectiveBinding.createFromType(type, meta.annotation);\n}\n\nclass SomeDirective {\n  prop;\n  constructor() {\n    this.prop = 'foo';\n  }\n}\n\nclass DirectiveImplementingOnChange {\n  a;\n  b;\n  c;\n  changes;\n\n  onChange(changes) {\n    this.c = this.a + this.b;\n    this.changes = changes;\n  }\n}\n\nclass DirectiveImplementingOnAllChangesDone {\n  onAllChangesDoneCalled;\n\n  onAllChangesDone() {\n    this.onAllChangesDoneCalled = true;\n  }\n}\n\nclass SomeService {}\n\n@Component({services: [SomeService]})\nclass SomeComponent {\n  service: SomeService;\n  constructor(service: SomeService) {\n    this.service = service;\n  }\n}\n\n@Decorator({\n  selector: '[dec]'\n})\nclass ServiceDependentDecorator {\n  component: SomeComponent;\n  service: SomeService;\n  constructor(component: SomeComponent, service: SomeService) {\n    this.component = component;\n    this.service = service;\n  }\n}\n\n@Viewport({\n  selector: 'someTmpl'\n})\nclass SomeViewport {\n  viewContainer: ViewContainer;\n  constructor(viewContainer: ViewContainer) {\n    this.viewContainer = viewContainer;\n  }\n}\n\nclass AnotherDirective {\n  prop:string;\n  constructor() {\n    this.prop = 'anotherFoo';\n  }\n}\n\nclass EventEmitterDirective {\n  _clicker:Function;\n  constructor(@EventEmitter('click') clicker:Function) {\n    this._clicker = clicker;\n  }\n  click(eventData) {\n    this._clicker(eventData);\n  }\n}\n\nclass SomeDirectiveWithEventHandler {\n  event;\n\n  constructor() {\n    this.event = null;\n  }\n\n  onEvent(event) {\n    this.event = event;\n  }\n}\n\nclass MyEvaluationContext {\n  foo:string;\n  a;\n  b;\n  callMe;\n  constructor() {\n    this.foo = 'bar';\n  };\n}\n\nclass TestProtoElementInjector extends ProtoElementInjector {\n  parentElementInjector: ElementInjector;\n  hostElementInjector: ElementInjector;\n\n  constructor(parent:ProtoElementInjector, index:int, bindings:List, firstBindingIsComponent:boolean = false) {\n    super(parent, index, bindings, firstBindingIsComponent);\n  }\n\n  instantiate(parent:ElementInjector, host:ElementInjector):ElementInjector {\n    this.parentElementInjector = parent;\n    this.hostElementInjector = host;\n    return super.instantiate(parent, host);\n  }\n}\n\nclass FakeVmTurnZone extends VmTurnZone {\n  constructor() {\n    super({enableLongStackTrace: false});\n  }\n\n  run(fn) {\n    fn();\n  }\n\n  runOutsideAngular(fn) {\n    fn();\n  }\n}\n"]}