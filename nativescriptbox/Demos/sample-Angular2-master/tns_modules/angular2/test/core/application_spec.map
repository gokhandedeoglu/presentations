{"version":3,"sources":["application_spec.js"],"names":[],"mappings":"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","file":"/home/korchev/github/angular/modules/angular2/test/core/application_spec.js","sourcesContent":["import {\n  AsyncTestCompleter,\n  beforeEach,\n  ddescribe,\n  describe,\n  expect,\n  iit,\n  inject,\n  it,\n  xdescribe,\n  xit,\n} from 'angular2/test_lib';\nimport {bootstrap} from 'angular2/src/core/application';\nimport {appDocumentToken, appElementToken} from 'angular2/src/core/application_tokens';\nimport {Component, Decorator} from 'angular2/src/core/annotations/annotations';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\nimport {ListWrapper} from 'angular2/src/facade/collection';\nimport {PromiseWrapper} from 'angular2/src/facade/async';\nimport {bind, Inject} from 'angular2/di';\nimport {Template} from 'angular2/src/core/annotations/template';\nimport {LifeCycle} from 'angular2/src/core/life_cycle/life_cycle';\nimport {Testability, TestabilityRegistry} from 'angular2/src/core/testability/testability';\n\n@Component({selector: 'hello-app'})\n@Template({inline: '{{greeting}} world!'})\nclass HelloRootCmp {\n  greeting:string;\n  constructor() {\n    this.greeting = 'hello';\n  }\n}\n\n@Component({selector: 'hello-app'})\n@Template({inline: 'before: <content></content> after: done'})\nclass HelloRootCmpContent {\n  constructor() { }\n}\n\n@Component({selector: 'hello-app-2'})\n@Template({inline: '{{greeting}} world, again!'})\nclass HelloRootCmp2 {\n  greeting:string;\n  constructor() {\n    this.greeting = 'hello';\n  }\n}\n\n@Component({selector: 'hello-app'})\n@Template({inline: ''})\nclass HelloRootCmp3 {\n  appBinding;\n\n  constructor(@Inject(\"appBinding\") appBinding) {\n    this.appBinding = appBinding;\n  }\n}\n\n@Component({selector: 'hello-app'})\n@Template({inline: ''})\nclass HelloRootCmp4 {\n  lc;\n\n  constructor(@Inject(LifeCycle) lc) {\n    this.lc = lc;\n  }\n}\n\n@Component({selector: 'hello-app'})\nclass HelloRootMissingTemplate { }\n\n@Decorator({selector: 'hello-app'})\nclass HelloRootDirectiveIsNotCmp { }\n\nexport function main() {\n  var fakeDoc, el, el2, testBindings, lightDom;\n\n  beforeEach(() => {\n    fakeDoc = DOM.createHtmlDocument();\n    el = DOM.createElement('hello-app', fakeDoc);\n    el2 = DOM.createElement('hello-app-2', fakeDoc);\n    lightDom = DOM.createElement('light-dom-el', fakeDoc);\n    DOM.appendChild(fakeDoc.body, el);\n    DOM.appendChild(fakeDoc.body, el2);\n    DOM.appendChild(el, lightDom);\n    DOM.setText(lightDom, 'loading');\n    testBindings = [bind(appDocumentToken).toValue(fakeDoc)];\n  });\n\n  describe('bootstrap factory method', () => {\n    it('should throw if no Template found', inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootMissingTemplate, testBindings, (e,t) => {throw e;});\n      PromiseWrapper.then(injectorPromise, null, (reason) => {\n        expect(reason.message).toContain('No template found for HelloRootMissingTemplate');\n        async.done();\n      });\n    }));\n\n    it('should throw if bootstrapped Directive is not a Component', inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootDirectiveIsNotCmp, testBindings, (e,t) => {throw e;});\n      PromiseWrapper.then(injectorPromise, null, (reason) => {\n          expect(reason.message).toContain('Only Components can be bootstrapped; ' +\n\t\t\t\t\t   'Directive of HelloRootDirectiveIsNotCmp is not a Component');\n          async.done();\n      });\n    }));\n\n    it('should throw if no element is found', inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootCmp, [], (e,t) => {throw e;});\n      PromiseWrapper.then(injectorPromise, null, (reason) => {\n        expect(reason.message).toContain(\n            'The app selector \"hello-app\" did not match any elements');\n        async.done();\n      });\n    }));\n\n    it('should create an injector promise', () => {\n      var injectorPromise = bootstrap(HelloRootCmp, testBindings);\n      expect(injectorPromise).not.toBe(null);\n    });\n\n    it('should resolve an injector promise and contain bindings', inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootCmp, testBindings);\n      injectorPromise.then((injector) => {\n        expect(injector.get(appElementToken)).toBe(el);\n        async.done();\n      });\n    }));\n\n    it('should provide the application component in the injector', inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootCmp, testBindings);\n      injectorPromise.then((injector) => {\n        expect(injector.get(HelloRootCmp)).toBeAnInstanceOf(HelloRootCmp);\n        async.done();\n      });\n    }));\n\n    it('should display hello world', inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootCmp, testBindings);\n      injectorPromise.then((injector) => {\n\n        expect(injector.get(appElementToken)).toHaveText('hello world!');\n        async.done();\n      });\n    }));\n\n    it('should support multiple calls to bootstrap', inject([AsyncTestCompleter], (async) => {\n      var injectorPromise1 = bootstrap(HelloRootCmp, testBindings);\n      var injectorPromise2 = bootstrap(HelloRootCmp2, testBindings);\n      PromiseWrapper.all([injectorPromise1, injectorPromise2]).then((injectors) => {\n        expect(injectors[0].get(appElementToken)).toHaveText('hello world!');\n        expect(injectors[1].get(appElementToken)).toHaveText('hello world, again!');\n        async.done();\n      });\n    }));\n\n    it(\"should make the provided bindings available to the application component\", inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootCmp3, [\n        testBindings,\n        bind(\"appBinding\").toValue(\"BoundValue\")\n      ]);\n\n      injectorPromise.then((injector) => {\n        expect(injector.get(HelloRootCmp3).appBinding).toEqual(\"BoundValue\");\n        async.done();\n      });\n    }));\n\n    it(\"should avoid cyclic dependencies when root component requires Lifecycle through DI\", inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootCmp4, testBindings);\n\n      injectorPromise.then((injector) => {\n        expect(injector.get(HelloRootCmp4).lc).toBe(injector.get(LifeCycle));\n        async.done();\n      });\n    }));\n\n    it(\"should support shadow dom content tag\", inject([AsyncTestCompleter], (async) => {\n      var injectorPromise = bootstrap(HelloRootCmpContent, testBindings);\n      injectorPromise.then((injector) => {\n        expect(injector.get(appElementToken)).toHaveText('before: loading after: done');\n        async.done();\n      });\n    }));\n\n    it('should register each application with the testability registry', inject([AsyncTestCompleter], (async) => {\n      var injectorPromise1 = bootstrap(HelloRootCmp, testBindings);\n      var injectorPromise2 = bootstrap(HelloRootCmp2, testBindings);\n\n      PromiseWrapper.all([injectorPromise1, injectorPromise2]).then((injectors) => {\n        var registry = injectors[0].get(TestabilityRegistry);\n        PromiseWrapper.all([\n            injectors[0].asyncGet(Testability),\n            injectors[1].asyncGet(Testability)]).then((testabilities) => {\n          expect(registry.findTestabilityInTree(el)).toEqual(testabilities[0]);\n          expect(registry.findTestabilityInTree(el2)).toEqual(testabilities[1]);\n          async.done();\n        });\n      });\n    }));\n  });\n}\n"]}